<article class="product-card" [class.product-card--loading]="!product" (click)="onProductClick()" role="button" tabindex="0">
  <!-- Loading skeleton -->
  <div *ngIf="!product" class="product-card__skeleton">
    <div class="skeleton product-card__skeleton-image"></div>
    <div class="product-card__skeleton-content">
      <div class="skeleton product-card__skeleton-title"></div>
      <div class="skeleton product-card__skeleton-price"></div>
    </div>
  </div>

  <!-- Product content -->
  <div *ngIf="product" class="product-card__content">
    <!-- Product image -->
    <div class="product-card__image-wrapper">
      <img 
        [src]="product.image" 
        [alt]="product.title"
        class="product-card__image"
        loading="lazy"
        (error)="onImageError($event)">
      
      <!-- Hover overlay with add to cart button -->
      <div class="product-card__overlay">
        <button 
          class="btn btn--icon product-card__add-btn" 
          [attr.aria-label]="'Add ' + product.title + ' to cart'"
          (click)="onAddToCart()">
          <svg class="product-card__add-icon" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M10 5V15M5 10H15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </button>
      </div>
    </div>

    <!-- Product details -->
    <div class="product-card__details">
      <h3 class="product-card__title">{{ product.title }}</h3>
      <div class="product-card__footer">
        <span class="product-card__price">${{ product.price.toFixed(2) }}</span>
      </div>
    </div>
  </div>
</article>